



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Active Directory - TACTIC System Administration</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#active-directory-integration" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="TACTIC System Administration" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              TACTIC System Administration
            </span>
            <span class="md-header-nav__topic">
              
                Active Directory
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="TACTIC System Administration" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    TACTIC System Administration
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Planning
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Planning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-tactic-scalability-solution/" title="TACTIC as a Scalable Solution" class="md-nav__link">
      TACTIC as a Scalable Solution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-tactic-scalability-planning/" title="Deployment Preparation" class="md-nav__link">
      Deployment Preparation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Install TACTIC Application
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Install TACTIC Application
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../system-requirements/" title="System Requirements" class="md-nav__link">
      System Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-tactic-general/" title="General TACTIC Installation" class="md-nav__link">
      General TACTIC Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-tactic-rhel/" title="Install TACTIC on RHEL" class="md-nav__link">
      Install TACTIC on RHEL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-tactic-windows-server/" title="Install TACTIC Windows Server" class="md-nav__link">
      Install TACTIC Windows Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-tactic-license/" title="Install TACTIC License" class="md-nav__link">
      Install TACTIC License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Server Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Server Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-tactic-checklist/" title="Configuration Checklist" class="md-nav__link">
      Configuration Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configure-tactic-assets/" title="Assets Storage" class="md-nav__link">
      Assets Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../database-configuration/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../database-configuration-postgresql/" title="PostgreSQL" class="md-nav__link">
      PostgreSQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configure-http-iis-7/" title="HTTP IIS 7" class="md-nav__link">
      HTTP IIS 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configure-ssl/" title="SSL" class="md-nav__link">
      SSL
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Active Directory
      </label>
    
    <a href="./" title="Active Directory" class="md-nav__link md-nav__link--active">
      Active Directory
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tactic-configuration" class="md-nav__link">
    TACTIC Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-configurations" class="md-nav__link">
    Example Configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization" class="md-nav__link">
    Synchronization
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup-email/" title="Email / Mailserver" class="md-nav__link">
      Email / Mailserver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resource/" title="Database Resources" class="md-nav__link">
      Database Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configure-tactic/" title="Configuration Directives" class="md-nav__link">
      Configuration Directives
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Upgrade TACTIC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Upgrade TACTIC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../upgrade-tactic/" title="Upgrade Tactic" class="md-nav__link">
      Upgrade Tactic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upgrade-python/" title="Upgrade to Python 3" class="md-nav__link">
      Upgrade to Python 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upgrade-crypto/" title="PyCryptodome Update" class="md-nav__link">
      PyCryptodome Update
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multiple-tactic-services/" title="Multiple TACTIC Versions" class="md-nav__link">
      Multiple TACTIC Versions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Scalability
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Scalability
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy-tactic-scalability-configuration-examples/" title="Configuration Examples" class="md-nav__link">
      Configuration Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../load-balancing-tactic/" title="Load Balancing Tactic" class="md-nav__link">
      Load Balancing Tactic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshooting-tactic/" title="Troubleshooting Tactic" class="md-nav__link">
      Troubleshooting Tactic
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Maintenance
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Maintenance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../backup-and-restore-server/" title="Backup And Restore Server" class="md-nav__link">
      Backup And Restore Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../automate-database-backup/" title="Automated Backup" class="md-nav__link">
      Automated Backup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../maintenance-logs/" title="Configure Logrotate" class="md-nav__link">
      Configure Logrotate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      TACTIC Server VM
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        TACTIC Server VM
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tsi-setup-and-install/" title="Setup And Install" class="md-nav__link">
      Setup And Install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tsi-troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tactic-configuration" class="md-nav__link">
    TACTIC Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-configurations" class="md-nav__link">
    Example Configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization" class="md-nav__link">
    Synchronization
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="active-directory-integration">Active Directory Integration</h1>
<p>TACTIC provides the ability to easily connect to any active directory
installation for both authentication and for synchronization of user
data. With a set of directives in the TACTIC configuration file, it is
possible to connect to Active Directory for authentication and user
information.</p>
<p>This synchronization takes place at login time. At this point, TACTIC
takes the desired information for a particular user and caches it into
the "sthpw/login" search type. Subsequent requests would normally use an
issued ticket given at login time. On these requests, no further
querying of active directory is needed until the ticket expires or the
user signs out the application.</p>
<p>The active directory modules make use of win32 libraries for python.
These must be installed in order for the connection to active directory
to function properly</p>
<h2 id="tactic-configuration">TACTIC Configuration</h2>
<p>There are a number of directives in the TACTIC config file that can be
used to configure the active directory settings. These allow you to
adjust TACTIC behavior to suit the needs of the facility.</p>
<p>In order to turn on active directory authentication, you must change the
authenticate class to the following:</p>
<pre><code>&lt;security&gt;
    ...
    &lt;authenticate_class&gt;tactic.active_directory.ADAuthenticate&lt;/authenticate_class&gt;
    ...
&lt;/security&gt;
</code></pre>

<p>The following directives can be set under the active directory category:</p>
<p><strong>domains</strong> - This is a "|" delimited list of the domains that exist in the
network. If specified, a selection box for domains will be added to the
login page.</p>
<p><strong>allow</strong> - Can be "all", which allows everyone to log in if authentication
is approved or it can point to the name of a specific Active Directory
attribute that must be set to True. If a person is denied access, the
will receive the error: "Permission denied due to insufficient Active
Directory clearance".</p>
<p><strong>default_groups:</strong> - Defines the default groups that a user will belong to
if none is specified. Multiple groups are delimited by "|".</p>
<p><strong>default_license_type:</strong> - Determines the default license type for a user if
none is specified in the Active Directory attribute "tacticLicenceType".</p>
<h2 id="example-configurations">Example Configurations</h2>
<p>Below is an example of a typical entry in the TACTIC config file,</p>
<pre><code>&lt;active_directory&gt;
    &lt;domains&gt;xxx|yyy|zzz&lt;/domains&gt;
    &lt;allow&gt;tacticEnabled&lt;/allow&gt;
    &lt;default_groups&gt;client&lt;/default_groups&gt;
    &lt;default_license_type&gt;user&lt;/default_license_type&gt;
&lt;/active_directory&gt;

</code></pre>

<p>Allow anyone to login,</p>
<pre><code>&lt;active_directory&gt;
    &lt;allow&gt;all&lt;/allow&gt;
&lt;/active_directory&gt;
</code></pre>

<p>Allow anyone to login and will be put in the "client" group if user has
no groups specified,</p>
<!-- FIXME: Default groups should probably be specified... -->

<pre><code>&lt;active_directory&gt;
    &lt;allow&gt;all&lt;/allow&gt;
&lt;/active_directory&gt;
</code></pre>

<p>Only allow those with the attribute tacticEnabled in Active Directory set
to "true",</p>
<pre><code>&lt;active_directory&gt;
    &lt;allow&gt;tacticEnabled&lt;/allow&gt;
&lt;/active_directory&gt;
</code></pre>

<p>Enable users to select a domain (xxx, yyy or zzz) in the login screen</p>
<pre><code>&lt;active_directory&gt;
    &lt;allow&gt;all&lt;/allow&gt;
    &lt;domains&gt;xxx|yyy|zzz&lt;/domains&gt;
&lt;/active_directory&gt;
</code></pre>

<h2 id="synchronization">Synchronization</h2>
<p>Active Directory attributes use camel case notation (aaaBbbCcc), while
TACTIC users lowercase with underscore separators for columns(
aaa_bbb_ccc). In order to maintain consistency within the TACTIC
application, a mapping of columns from active directory to TACTIC is
provided. The following mappings are made by default:</p>
<table>
<colgroup>
<col width="28%" />
<col width="71%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>mail</p></td>
<td><p>email</p></td>
</tr>
<tr class="even">
<td><p>telephoneNumber</p></td>
<td><p>phone_number</p></td>
</tr>
<tr class="odd">
<td><p>department</p></td>
<td><p>department</p></td>
</tr>
<tr class="even">
<td><p>displayName</p></td>
<td><p>first_name, last_name (broken up)</p></td>
</tr>
<tr class="odd">
<td><p>tacticLicenceType</p></td>
<td><p>license_type</p></td>
</tr>
</tbody>
</table>

<p>The Active Directory variable "tacticLicenseType" is a custom variable
that indicates which type of license a particular user can occupy in
TACTIC. If this attribute is missing from a users active directory
profile, then they will be denied a login. This attribute can be used to
determine if a particular user in active directory is allowed to login
to TACTIC.</p>
<p>The only supported license for this attribute are "user" and "default".
Other license types have not yet been implemented yet.</p>
<p>On log in, TACTIC will look at all of the groups that a user belongs to
in Active Directory and match those group names to the "ad_login_group"
column in the "sthpw/login_group" search type. This grouping list will
synchronized at this time, removing the users from groups not specified
in Active Directory and add those that are specified. This means that
Active Directory is in full control of the groups that a user is part of
and therefore must be managed entirely in Active Directory.</p>
<p>For the name of the group, TACTIC only looks at the root of the path to
map the group name. For example, an active directory group with the
following distinguished name:</p>
<p>memberOf: CN=supervisor,OU=Users,OU=EIS,DC=domain,DC=us,DC=xxxx,DC=com</p>
<p>TACTIC will need only "supervisor" to be entered in the "ad_login_group"
column.</p>
<p>If on logging in, the number of users exceeds the number of users in the
license, then that user will be denied access and an entry in the
"sthpw/login" search type will not be made. However, all other users
currently registered can continue to work normally.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../configure-ssl/" title="SSL" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SSL
              </span>
            </div>
          </a>
        
        
          <a href="../setup-email/" title="Email / Mailserver" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Email / Mailserver
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>