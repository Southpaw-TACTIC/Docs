



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Build and Run a Workflow - TACTIC Quick Start Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#build-and-run-a-workflow" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="TACTIC Quick Start Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              TACTIC Quick Start Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Build and Run a Workflow
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="TACTIC Quick Start Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    TACTIC Quick Start Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quick-start-get-tactic/" title="Get TACTIC" class="md-nav__link">
      Get TACTIC
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quick-start-setup/" title="Setup TACTIC" class="md-nav__link">
      Setup TACTIC
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build and Run a Workflow
      </label>
    
    <a href="./" title="Build and Run a Workflow" class="md-nav__link md-nav__link--active">
      Build and Run a Workflow
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-create-a-workflow" class="md-nav__link">
    1. Create a Workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-example-workflow" class="md-nav__link">
    2. Example workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configure-condition-nodes" class="md-nav__link">
    3. Configure condition nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-configure-action-nodes" class="md-nav__link">
    4. Configure action nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-import-data" class="md-nav__link">
    5. Import data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-run-workflow" class="md-nav__link">
    6. Run workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-create-a-workflow" class="md-nav__link">
    1. Create a Workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-example-workflow" class="md-nav__link">
    2. Example workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configure-condition-nodes" class="md-nav__link">
    3. Configure condition nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-configure-action-nodes" class="md-nav__link">
    4. Configure action nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-import-data" class="md-nav__link">
    5. Import data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-run-workflow" class="md-nav__link">
    6. Run workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="build-and-run-a-workflow">Build and Run a Workflow</h1>
<h2 id="1-create-a-workflow">1. Create a Workflow</h2>
<p>In the adminstrative panel, open the workflow editor by toggling the left sidebar and navigating to Project &gt; Project Workflow.</p>
<p><img alt="image" src="../media/quick-start-build-workflow-1.gif" /></p>
<p>A default workflow will be created for your search type, and you can create a new workflow from the "Add" button. Select the default workflow, 
and click the starter box to add your first node. </p>
<p>You can create more nodes by dragging a connector line from the left or right nobs of the node.</p>
<p><img alt="image" src="../media/quick-start-build-workflow-2.gif" /></p>
<p>You can also drag a node from the left node panel. Click the wrench to toggle the node panel.</p>
<p><img alt="image" src="../media/quick-start-build-workflow-3.gif" /></p>
<p>You can rename nodes by editing the title in the process info panel to the right of the canvas, or by right-clicking the node, and selecting rename.</p>
<p><img alt="image" src="../media/quick-start-build-workflow-4.gif" /></p>
<p>You can change node types from the process info panel select.</p>
<p><img alt="image" src="../media/quick-start-build-workflow-5.gif" /></p>
<h2 id="2-example-workflow">2. Example workflow</h2>
<p>In this guide, we will work with the following example Sales Customer Lead workflow. </p>
<p><img alt="image" src="../media/quick-start-build-workflow-6.PNG" /></p>
<p>This workflow includes,</p>
<ul>
<li>manual tasks for data input, referral and follow-up</li>
<li>automated decisions based on customer locale and customer product interest</li>
<li>automated email notifications</li>
</ul>
<h2 id="3-configure-condition-nodes">3. Configure condition nodes</h2>
<p>Condition nodes allow automated decision trees within your workflow. Using Python or Javascript, you can choose which output streams your workflow should take. The input object contains data from the execution flow.</p>
<p>In the following example, we use the customer SObject to choose whether to refer the customer externally, or continue to the next conditional node.
Specify the chosen stream by returning the process name.</p>
<p><strong>Local? conditional node Python code:</strong></p>
<div class="codehilite"><pre><span></span><span class="n">customer</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sobject&quot;</span><span class="p">)</span>
<span class="n">phone_number</span> <span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;phone_number&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">phone_number</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;1-647&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Product Interest&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="s2">&quot;Refer out&quot;</span>
</pre></div>


<p>In the next example, we use the customer SObject to choose the appropriate action node that will generate an automated response.
Note that you are able to choose multiple streams, and you can specify output streams with a list of process names.</p>
<p><strong>Product interest conditional Python code:</strong></p>
<div class="codehilite"><pre><span></span><span class="n">customer</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sobject&quot;</span><span class="p">)</span>
<span class="n">product_interest</span> <span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;products&quot;</span><span class="p">)</span>
<span class="n">products</span> <span class="o">=</span> <span class="n">product_interest</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">if</span> <span class="s2">&quot;Product 1&quot;</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Product 1 Automated Response&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="s2">&quot;Product 2&quot;</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Product 2 Automated Response&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="s2">&quot;Product 3&quot;</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Product 3 Automated Response&quot;</span><span class="p">)</span>

<span class="k">return</span> <span class="n">outputs</span>
</pre></div>


<h2 id="4-configure-action-nodes">4. Configure action nodes</h2>
<p>Action nodes allow for execution of custom scripts within your workflow. Using Python or Javascript, you can interact with the TACTIC API or external services. </p>
<p>In the following example, we use a customer's email to send information related to their product interest.</p>
<p><strong>Product 1 Automated Response Python code:</strong></p>
<div class="codehilite"><pre><span></span><span class="n">customer</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sobject&quot;</span><span class="p">)</span>
<span class="n">customer_name</span> <span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>

<span class="c1"># Send customer email</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Dear </span><span class="si">%s</span><span class="s2">,</span>

<span class="s2">Thank you for your interest in Product 1.</span>
<span class="s2">You will be contacted by a sales representative in the next 48 hours.</span>

<span class="s2">Product 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras et nibh est. Quisque sit amet auctor enim, a lobortis tellus. Suspendisse semper vel nulla nec cursus. Sed sodales metus sit amet mauris consectetur, eget facilisis ipsum lacinia. Cras tristique elit vel iaculis interdum. Maecenas velit est, ultrices a pharetra sagittis, placerat vel sem. In sodales purus non mauris porta, non sagittis risus posuere. Nam non hendrerit est, sed euismod dui. Vivamus congue gravida sem, eget pretium nulla pretium vel. Suspendisse eu eros non velit tristique venenatis porttitor et eros. Vivamus sed nisl non quam ultrices varius. </span>

<span class="s2">More information about this product can be found on our website.</span>

<span class="s2">Best,</span>

<span class="s2">Sales</span>
<span class="s2">Best-In-Sales Inc.</span>
<span class="s2">&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">customer_name</span>

<span class="n">subject</span> <span class="o">=</span> <span class="s2">&quot;You will be contacted shortly.&quot;</span>

<span class="n">recipient_email</span><span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">)</span>

<span class="n">sender_email</span> <span class="o">=</span> <span class="s2">&quot;sales@bestinsales.com&quot;</span>

<span class="kn">from</span> <span class="nn">pyasm.command</span> <span class="kn">import</span> <span class="n">SendEmail</span>
<span class="n">email_cmd</span> <span class="o">=</span> <span class="n">SendEmail</span><span class="p">(</span>
    <span class="n">sender_email</span><span class="o">=</span><span class="n">sender_email</span><span class="p">,</span>
    <span class="n">recipient_emails</span><span class="o">=</span><span class="p">[</span><span class="n">recipient_email</span><span class="p">],</span>
    <span class="n">msg</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
    <span class="n">subject</span><span class="o">=</span><span class="n">subject</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">email_cmd</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

<span class="c1"># Update end date of follow-up (output) task</span>
<span class="n">code</span> <span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>

<span class="n">search_type</span> <span class="o">=</span> <span class="s2">&quot;sthpw/task&quot;</span>
<span class="n">process</span> <span class="o">=</span> <span class="s2">&quot;Follow-up&quot;</span>
<span class="n">output_task</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">get_unique_sobject</span><span class="p">(</span><span class="n">search_type</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;search_code&#39;</span><span class="p">:</span> <span class="n">code</span><span class="p">,</span> <span class="s2">&quot;process&quot;</span><span class="p">:</span> <span class="n">process</span><span class="p">})</span>

<span class="n">search_key</span> <span class="o">=</span> <span class="n">output_task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__search_key__&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">search_key</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;bid_end_date&#39;</span><span class="p">:</span> <span class="n">end_date</span><span class="p">})</span>
</pre></div>


<blockquote>
<p>Note: To test the email configuration, you will need to configure the mail servce, and use a working sender email.
See the <a href="http://community.southpawtech.com/docs/sys-admin/setup-email/">Sys-Admin docs</a> for details.</p>
</blockquote>
<p>Now that the pipeline is configured, we can import a customer list, and execute the workflow under each customer.</p>
<h2 id="5-import-data">5. Import data</h2>
<p>In order to execute a workflow, you must first create SObjects. There are a number of ways you can create SObjects:</p>
<ul>
<li>TACTIC API insert or insert multiple methods</li>
<li>EditWdg</li>
<li>CSV Import Tool</li>
</ul>
<p>In this example, we will use the CSV Import Tool as it will allow us to easily create columns for customer metadata email, phone and products.</p>
<p>Navigate to the Customer SType table from the project dashboard.</p>
<p><img alt="image" src="../media/quick-start-import-data-0.gif" /></p>
<p>Open the CSV Import Tool from the gear menu &gt; File &gt; Import CSV</p>
<p><img alt="image" src="../media/quick-start-import-data-1.png" /> </p>
<p>Upload a csv file available here. An example customer list can be found <a href="../data/customer_data.csv">here</a>.
Select which columns you want to import. For this example, import at least name, email, phone number and products. </p>
<p><img alt="image" src="../media/quick-start-import-data-2.gif" /></p>
<h2 id="6-run-workflow">6. Run workflow</h2>
<p>To run our workflow we need to assign the workflow to customers, and create initial tasks for these SObjects. We will then trigger the first process in the workflow.</p>
<p>You can use the TACTIC API or the TACTIC interface to achieve this. In this example, we will show how to use the TACTIC interface to run the workflow.</p>
<p>First, assign the workflow to each customer in the customer table using the multi-select tool.</p>
<p><img alt="image" src="../media/quick-start-run-workflow-1.gif" /></p>
<p>Second, create tasks for these customers using the Create Tasks tool under the gear menu &gt; Tasks &gt; Add Tasks to Selected.</p>
<p>This will create 3 tasks for each customer as seen below,</p>
<p><img alt="image" src="../media/quick-start-run-workflow-2.PNG" /></p>
<p>To trigger the start of the workflow, we set the first process to pending.</p>
<p><img alt="image" src="../media/quick-start-run-workflow-3.gif" /></p>
<p>In this example, the first process is a manual task. When this task is complete, an assigned user can set this task to Complete to the next step in the workflow. </p>
<p>If the first process in your workflow is automatic, you can trigger the start of the action node using the API method call_pipeline_event.</p>
<p>Once the Data Input task is set Complete, the workflow will run. It will mark chosen decision tree output streams as pending, and other streams as not required.</p>
<p><img alt="image" src="../media/quick-start-run-workflow-4.PNG" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>In this example, we created a workflow containing manual processes (tasks), automated decisions (condition nodes) and automated actions (action nodes).
We were able to import a dataset and execute our workflow on this dataset.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../quick-start-setup/" title="Setup TACTIC" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Setup TACTIC
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>