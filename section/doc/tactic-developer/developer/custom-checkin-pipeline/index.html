<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title></title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}


#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_custom_checkin_pipeline">Custom Checkin Pipeline</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Partial override</strong></p></div>
<div class="paragraph"><p>There are four points in the current Application check-in process that
the developer can insert handlers to perform custom actions. These
events are called checkin/pre_export, checkin/create, checkin/process,
checkin/dependency.</p></div>
<div class="paragraph"><p>Here is a plain pipeline:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;pipeline&gt;
    &lt;process name="model/&gt;
    &lt;process name="texture"/&gt;
    &lt;process name="shader"/&gt;
    &lt;process name="rig"/&gt;
    &lt;connect to="texture" from="model" context="model"/&gt;
    &lt;connect to="shader" from="texture" context="texture"/&gt;
   &lt;connect to="shot/layout" from="rig" context="rig"/&gt;
    &lt;connect to="rig" from="texture" context="texture"/&gt;
    &lt;connect to="shot/lighting" from="shader"/&gt;
&lt;/pipeline&gt;</code></pre>
</div></div>
<div class="paragraph"><p>If we want to intercept the model process checkin with before exporting
occurs and the texture process before and after the export of the node
occurs, we will have a pipeline like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;pipeline&gt;
    &lt;process name="model"&gt;
         &lt;action event="checkin/pre_export" scope="client"
 class="pyasm.application.common.interpreter.MayaModelCheckinPreexport"/&gt;
    &lt;/process&gt;
     &lt;process name="texture"&gt;
           &lt;action event="checkin/pre_export" scope="client"
class="pyasm.application.common.interpreter.MayaTextureCheckinPreexport"/&gt;
           &lt;action event="checkin/process" scope="client"
class="pyasm.application.common.interpreter.MayaTextureCheckinProcess"/&gt;
      &lt;/process&gt;
    &lt;process name="shader"/&gt;
    &lt;process name="rig"/&gt;
    &lt;connect to="texture" from="model" context="model"/&gt;
    &lt;connect to="shader" from="texture" context="texture"/&gt;
    &lt;connect to="shot/layout" from="rig" context="rig"/&gt;
    &lt;connect to="rig" from="texture" context="texture"/&gt;
    &lt;connect to="shot/lighting" from="shader"/&gt;
&lt;/pipeline&gt;</code></pre>
</div></div>
<div class="paragraph"><p>The class attribute can point to a custom python path, usually
accessible on the network where the client computer is on. This python
class can do something as simple as adding a cube and parent it to the
to-be-exported node, the scene file is free from user-created junk
nodes, or making sure a certain special node exists in the scene file.
Please to the full override section for some python class examples. The
main method required is just execute(). And presumably you will import
the application&#8217;s python module to do the manipulation desired. For
Maya, you would run this to create a cube:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>import maya as cmaya
cmaya.cmds.polyCube()</code></pre>
</div></div>
<div class="paragraph"><p><strong>Full override</strong></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">This method requires more set-up on the developer&#8217;s end as it
does not leverage the exisiting application checkin functionalities.
This section describes how to customize the checkin pipeline, which is a
series of processes, each with an action handler defined.</td>
</tr></table>
</div>
<div class="paragraph"><p>Normally TACTIC handles many of the details for checking in files.
However, this process can be completely taken over and customized.</p></div>
<div class="paragraph"><p>An example checkin pipeline might look like the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;pipeline&gt;
  &lt;process name="validation"&gt;
    &lt;action class="pyasm.application.common.interpreter.MayaModelValidate"/&gt;
  &lt;/process&gt;
  &lt;process name="extractor"&gt;
    &lt;action class="pyasm.application.common.interpreter.MayaModelCheckin"/&gt;
  &lt;/process&gt;
  &lt;connect from="validation" to="extractor"/&gt;
&lt;/pipeline&gt;</code></pre>
</div></div>
<div class="paragraph"><p>This structure is the same for all pipelines defined in TACTIC. It
describes a series of processes with actions. The actions have an
attribute "class" that handles a particular part of the checkin process.
TACTIC delivers a defined pipeline to a pipeline interpreter, which then
executes the handlers in order. Handlers make use of the Client API to
interact with TACTIC.</p></div>
<div class="quoteblock">
<div class="content">
<div class="paragraph"><p><strong>Note</strong></p></div>
<div class="paragraph"><p>For information on the Client API, refer to the <a href="#clientAPI"><strong>Client
API Documentation</strong></a></p></div>
</div>
<div class="attribution">
</div></div>
<div class="paragraph"><p><strong>Process Handlers</strong></p></div>
<div class="paragraph"><p>A process handler is a function or subroutine that contains commands
that are executed in response to an event. In TACTIC, all handlers are
derived from the Handler class. This class defines a simple interface
which has some basic functions which can be overridden:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>execute()</strong></p></td>
<td align="left" valign="top"><p class="table">The commands to be performed by the handler.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>undo()</strong></p></td>
<td align="left" valign="top"><p class="table">The method called when an exception occurs. TACTIC calls the
<em>undo()</em> method for each handler in the pipeline in the reverse order
that they were executed.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>There are several helper methods you can use to set and retrieve
information using handlers. Any particular handler has two sources of
information:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Package:</strong> this data is global to all of the nodes. It is the
dictionary data structure that TACTIC delivers to the client machine and
includes such settings as status information and user interface
selections. This data should be considered read-only.
</p>
<div class="paragraph"><p>You can retrieve package information using the method:</p></div>
<div class="paragraph"><p><code>get_package_value(my, key)</code></p></div>
<div class="paragraph"><p>where <em>key</em> is the name of the dictionary key for the data. The exact
list of the keys delivered will depend on the user interface settings.
2.  <strong>Input:</strong> this data is received from the previous process handler.
The handler itself determines which input it receives.</p></div>
<div class="paragraph"><p>You can retrieve input information using the method:</p></div>
<div class="paragraph"><p><code>get_input_value(my, key)</code></p></div>
<div class="paragraph"><p>Handlers can deliver these values to future nodes with output values,
which become the input values for the next node. You can set output
information using the method:</p></div>
<div class="paragraph"><p><code>set_output_value(my, key)</code></p></div>
</li>
</ol></div>
<div class="paragraph"><p><strong>Example</strong></p></div>
<div class="paragraph"><p>The following sample is simple validation handler code that checks a
Maya session for the existence of a particular node through its search
key.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>import maya.cmds as cmds

from pyasm.application.common.interpreter import Handler

class MayaModelValidate(Handler):
    def execute(my):
        # get the search key from the delivered package
        search_key = my.get_package_value("search_key")

        # get the sobject from the server
        sobject = my.server.get_by_search_key(search_key)
        if not sobject:
            raise Exception("SObject with search key [%s] does not exist" % \
                search_key)

        # code and verify in maya that the node is in session
        code = sobject.get('code')
        if not cmds.ls(code):
            raise Exception("Cannot checkin: [%s] does not exist" % code)

        my.set_output_value('sobject', sobject)</code></pre>
</div></div>
<div class="paragraph"><p>This code example, although simple, illustrates a number of handler
interaction requirements.</p></div>
<div class="paragraph"><p><code>import maya.cmds as cmds</code></p></div>
<div class="paragraph"><p>This first line imports the standard Maya command libraries to allow the
handler to interact with Maya.</p></div>
<div class="paragraph"><p><code>search_key = my.get_package_value("search_key")</code></p></div>
<div class="paragraph"><p>This line requires user input from a field in the interface on the
search key (unique identifier) for a particular SObject.</p></div>
<div class="paragraph"><p><code>sobject = my.server.get_by_search_key(search_key)</code></p></div>
<div class="paragraph"><p>Using the search key obtained from the interface, this line uses the
client API to retrieve data about the specific SObject. Handlers can
access the server stub code by using the <code>my.server</code> prefix. All methods
defined in the Client API are accessible through this type of reference.
(See the Client API documentation for more information.)</p></div>
<div class="paragraph"><p>The data structure returned is a dictionary of values that can be
accessed as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>code = sobject.get('code')
if not cmds.ls(code):
    raise Exception("Cannot checkin: [%s] does not exist" % code)</code></pre>
</div></div>
<div class="paragraph"><p>The code then checks the Maya session to verify that a node exists with
the same name as defined in the SObject. If not, an exception is created
that halts the checkin process and informs the user with the appropriate
error message that the checkin failed.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2016-05-13 07:56:20 EDT
</div>
</div>
</body>
</html>
